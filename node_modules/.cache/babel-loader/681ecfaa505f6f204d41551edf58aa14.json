{"ast":null,"code":"import _objectSpread from\"/Users/subodhkalika/test-projects/projects/seismos_application/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/subodhkalika/test-projects/projects/seismos_application/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import config from\"config\";import axios from\"axiosConfig\";import{Card,Table,PageHeader,Button}from'antd';import TableHeadersUtil from\"util/TableHeaderUtil\";import{useHistory}from\"react-router\";import ENUMS from\"constants/appEnums\";import HttpUtil from\"util/HttpUtil\";// components\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ExistingProject(){var history=useHistory();var columns=TableHeadersUtil.projectTable;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedProject=_useState4[0],setSelectedProject=_useState4[1];var rowSelection={onChange:function onChange(selectedRowKeys,selectedRows){var project=data.find(function(x){return x.key===selectedRowKeys[0];});setSelectedProject(project);},getCheckboxProps:function getCheckboxProps(record){return{disabled:record.name==='Disabled User',// Column configuration not to be checked\nname:record.name};}};var handleTableChange=function handleTableChange(pagination,filters,sorter){console.log('here');// this.fetch({\n//   sortField: sorter.field,\n//   sortOrder: sorter.order,\n//   pagination,\n//   ...filters,\n// });\n};var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),pagination=_useState6[0],setPagination=_useState6[1];var openProject=function openProject(e){e.preventDefault();var projectId=selectedProject.id;history.push({pathname:'/admin/dashboard',search:'?projectId='+projectId,state:{projectId:projectId}});};var fetchProjects=function fetchProjects(){axios.get(config.API_URL+ENUMS.API_ROUTES.PROJECT_LIST,_objectSpread({},HttpUtil.adminHttpHeaders())).then(function(res){if(res.status===200&&res.data){setData(res.data.projects.map(function(project,index){return{key:index,job_number:project.job_id,id:project.id,job_name:project.job_name,project_name:project.project_name,created_by:project.created_by,created_at_date:project.created_date,created_time:project.created_time};}));}}).catch(function(e){console.log(e);});};useEffect(function(){fetchProjects();setPagination({current:1,pageSize:5,total:10});},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{style:{minHeight:\"80vh\"},className:\"flex justify-center items-center bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{style:{width:'1100px'},children:[/*#__PURE__*/_jsx(PageHeader,{ghost:false,onBack:function onBack(){return window.history.back();},title:\"Select a project to continue\",extra:[/*#__PURE__*/_jsx(Button,{type:\"primary\",disabled:selectedProject?false:true,onClick:function onClick(e){return openProject(e);},children:\"Next\"},\"1\")]}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Table,{rowSelection:_objectSpread({type:'radio'},rowSelection),pagination:false,columns:columns,dataSource:data,onChange:handleTableChange})})]})})});}","map":{"version":3,"sources":["/Users/subodhkalika/test-projects/projects/seismos_application/client/src/views/admin/ExistingProject.js"],"names":["React","useEffect","useState","config","axios","Card","Table","PageHeader","Button","TableHeadersUtil","useHistory","ENUMS","HttpUtil","ExistingProject","history","columns","projectTable","data","setData","selectedProject","setSelectedProject","rowSelection","onChange","selectedRowKeys","selectedRows","project","find","x","key","getCheckboxProps","record","disabled","name","handleTableChange","pagination","filters","sorter","console","log","setPagination","openProject","e","preventDefault","projectId","id","push","pathname","search","state","fetchProjects","get","API_URL","API_ROUTES","PROJECT_LIST","adminHttpHeaders","then","res","status","projects","map","index","job_number","job_id","job_name","project_name","created_by","created_at_date","created_date","created_time","catch","current","pageSize","total","minHeight","width","window","back","type"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport config from \"config\";\nimport axios from \"axiosConfig\";\nimport { Card, Table, PageHeader, Button} from 'antd';\nimport TableHeadersUtil from \"util/TableHeaderUtil\";\nimport { useHistory } from \"react-router\";\nimport ENUMS from \"constants/appEnums\";\nimport HttpUtil from \"util/HttpUtil\";\n// components\nexport default function ExistingProject() {\n    const history = useHistory();\n    const columns = TableHeadersUtil.projectTable;\n    const [data, setData] = useState([]);\n\n    const [selectedProject, setSelectedProject] = useState(null);\n\n    const rowSelection = {\n        onChange: (selectedRowKeys, selectedRows) => {\n            const project = data.find(x => x.key === selectedRowKeys[0]);\n            setSelectedProject(project);\n        },\n        getCheckboxProps: (record) => ({\n          disabled: record.name === 'Disabled User',\n          // Column configuration not to be checked\n          name: record.name,\n        }),\n    };\n\n    const handleTableChange = (pagination, filters, sorter) => {\n        console.log('here')\n        // this.fetch({\n        //   sortField: sorter.field,\n        //   sortOrder: sorter.order,\n        //   pagination,\n        //   ...filters,\n        // });\n    };\n    \n    const [pagination, setPagination] = useState({});\n\n    const openProject = (e) => {\n        e.preventDefault();\n        const projectId = selectedProject.id;\n        history.push({\n            pathname: '/admin/dashboard',\n            search: '?projectId=' + projectId,\n            state: { projectId: projectId }\n        });\n    }\n\n    const fetchProjects = () => {\n        axios.get(config.API_URL + ENUMS.API_ROUTES.PROJECT_LIST,\n            {\n                ...HttpUtil.adminHttpHeaders()\n            })\n            .then(res => {\n                if (res.status === 200 && res.data) {\n                    setData(res.data.projects.map((project, index) => {\n                        return {\n                            key: index,\n                            job_number: project.job_id,\n                            id: project.id,\n                            job_name: project.job_name,\n                            project_name: project.project_name,\n                            created_by: project.created_by,\n                            created_at_date: project.created_date,\n                            created_time: project.created_time,\n                        }\n                    }))\n                }\n            })\n            .catch(e => {\n                console.log(e)\n            })\n    }\n\n    useEffect(() => {\n        fetchProjects();\n        setPagination({\n            current: 1,\n            pageSize: 5,\n            total: 10,\n        })\n    }, [])\n\n    return (\n        <>\n            <div style={{minHeight: \"80vh\"}} className=\"flex justify-center items-center bg-white\">\n                <div style={{width: '1100px'}}>\n                <PageHeader\n                    ghost={false}\n                    onBack={() => window.history.back()}\n                    title=\"Select a project to continue\"\n                    extra={[\n                        <Button\n                            key=\"1\"\n                            type=\"primary\"\n                            disabled={selectedProject ? false : true}\n                            onClick={e => openProject(e)}\n                        >\n                            Next\n                        </Button>,\n                    ]}\n                    >\n                </PageHeader>\n                    <Card>\n                        <Table\n                            rowSelection={{\n                                type: 'radio',\n                                ...rowSelection,\n                            }}\n                            pagination={false}\n                            columns={columns}\n                            dataSource={data}\n                            onChange={handleTableChange}\n                        />\n                    </Card>\n                </div>\n            </div>\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}