{"ast":null,"code":"var _jsxFileName = \"/Users/subodhkalika/test-projects/projects/seismos_application/client/src/views/admin/OcReport.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport config from \"config\";\nimport axios from \"axiosConfig\";\nimport { Card, Space, Table, Button } from 'antd';\nimport FAKE_DATA from \"constants/fakeData\";\nimport _ from \"lodash\";\nimport ENUMS from \"constants/appEnums\";\nimport HttpUtil from \"util/HttpUtil\";\nimport { CSVLink, CSVDownload } from \"react-csv\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function OcReport() {\n  _s();\n\n  const [data, setData] = useState(FAKE_DATA.STAGE_REPORT);\n  const csvData = [[\"firstname\", \"lastname\", \"email\"], [\"Ahmed\", \"Tomi\", \"ah@smthing.co.com\"], [\"Raed\", \"Labes\", \"rl@smthing.co.com\"], [\"Yezzi\", \"Min l3b\", \"ymin@cocococo.com\"]];\n\n  const approveStage = (text, record) => {\n    const index = data.findIndex(d => d.key === record.key);\n\n    const newData = _.cloneDeep(data);\n\n    newData[index].approved = true;\n    setData(newData);\n  };\n\n  const columns = [{\n    title: 'C0',\n    dataIndex: 'c0',\n    key: 'c0'\n  }, {\n    title: 'C1',\n    dataIndex: 'c1',\n    key: 'c1'\n  }, {\n    title: 'C2',\n    dataIndex: 'c2',\n    key: 'c2'\n  }, {\n    title: 'C3',\n    dataIndex: 'c3',\n    key: 'c3'\n  }, {\n    title: 'Q0',\n    dataIndex: 'q0',\n    key: 'q0'\n  }, {\n    title: 'Q1',\n    dataIndex: 'q1',\n    key: 'q1'\n  }, {\n    title: 'Q2',\n    dataIndex: 'q2',\n    key: 'q2'\n  }, {\n    title: 'Q3',\n    dataIndex: 'q3',\n    key: 'q3'\n  }, {\n    title: 'Fit Error',\n    dataIndex: 'fit_error',\n    key: 'fit_error'\n  }, {\n    title: 'Nf Param Id',\n    dataIndex: 'nf_param_id',\n    key: 'nf_param_id'\n  }, {\n    title: 'Connect Ops Risk',\n    dataIndex: 'connect_ops_risk',\n    key: 'connect_ops_risk'\n  }, {\n    title: 'Connect Efficiency',\n    dataIndex: 'connect_efficiency',\n    key: 'connect_efficiency'\n  }, {\n    title: 'Connect Condition',\n    dataIndex: 'connect_condition',\n    key: 'connect_condition'\n  }, {\n    title: 'Action',\n    key: 'action',\n    render: (text, record) => /*#__PURE__*/_jsxDEV(Space, {\n      size: \"middle\",\n      children: record.approved ? 'Approved' : /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        onClick: e => approveStage(text, record),\n        children: \"Approve\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 27\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }, this)\n  }];\n\n  const renderBody = (props, columns) => {\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      className: props.className,\n      children: columns.map((item, idx) => {\n        // console.log(item)\n        if (!item.hidden) {\n          return props.children[idx];\n        }\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }, this);\n  };\n\n  const fetchQcReport = () => {\n    axios.get(config.API_URL + ENUMS.API_ROUTES.QC_REPORT + '/' + 3, { ...HttpUtil.adminHttpHeaders()\n    }).then(res => {\n      console.log(res);\n\n      if (res.status === 200 && res.data) {}\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  useEffect(() => {\n    fetchQcReport();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      bordered: false,\n      style: {\n        width: '100%',\n        marginBottom: '5px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"QC Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(Table, {\n        columns: columns,\n        dataSource: data,\n        components: {\n          body: {\n            row: props => renderBody(props, columns)\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        disabled: data.filter(d => d.approved).length < 1,\n        children: \"Export stage report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CSVLink, {\n        data: csvData,\n        children: \"Save Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this), \";\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(OcReport, \"RwpGKT5l6iSOLEQw5kgoKhW5Jhc=\");\n\n_c = OcReport;\n\nvar _c;\n\n$RefreshReg$(_c, \"OcReport\");","map":{"version":3,"sources":["/Users/subodhkalika/test-projects/projects/seismos_application/client/src/views/admin/OcReport.js"],"names":["React","useEffect","useState","config","axios","Card","Space","Table","Button","FAKE_DATA","_","ENUMS","HttpUtil","CSVLink","CSVDownload","OcReport","data","setData","STAGE_REPORT","csvData","approveStage","text","record","index","findIndex","d","key","newData","cloneDeep","approved","columns","title","dataIndex","render","e","renderBody","props","className","map","item","idx","hidden","children","fetchQcReport","get","API_URL","API_ROUTES","QC_REPORT","adminHttpHeaders","then","res","console","log","status","catch","width","marginBottom","body","row","filter","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport config from \"config\";\nimport axios from \"axiosConfig\";\nimport { Card, Space, Table, Button } from 'antd';\nimport FAKE_DATA from \"constants/fakeData\";\nimport _ from \"lodash\";\nimport ENUMS from \"constants/appEnums\";\nimport HttpUtil from \"util/HttpUtil\";\nimport { CSVLink, CSVDownload } from \"react-csv\";\n\nexport default function OcReport() {\n    const [data, setData] = useState(FAKE_DATA.STAGE_REPORT);\n\n    const csvData = [\n        [\"firstname\", \"lastname\", \"email\"],\n        [\"Ahmed\", \"Tomi\", \"ah@smthing.co.com\"],\n        [\"Raed\", \"Labes\", \"rl@smthing.co.com\"],\n        [\"Yezzi\", \"Min l3b\", \"ymin@cocococo.com\"]\n    ];\n    const approveStage = (text, record) => {\n        const index = data.findIndex(d => d.key === record.key);\n        const newData = _.cloneDeep(data);\n        newData[index].approved = true;\n        setData(newData)\n    }\n    \n    const columns = [\n        {\n            title: 'C0',\n            dataIndex: 'c0',\n            key: 'c0',\n        },\n        {\n            title: 'C1',\n            dataIndex: 'c1',\n            key: 'c1',\n        },\n        {\n            title: 'C2',\n            dataIndex: 'c2',\n            key: 'c2',\n        },\n        {\n            title: 'C3',\n            dataIndex: 'c3',\n            key: 'c3',\n        },\n        {\n            title: 'Q0',\n            dataIndex: 'q0',\n            key: 'q0',\n        },\n        {\n            title: 'Q1',\n            dataIndex: 'q1',\n            key: 'q1',\n        },\n        {\n            title: 'Q2',\n            dataIndex: 'q2',\n            key: 'q2',\n        },\n        {\n            title: 'Q3',\n            dataIndex: 'q3',\n            key: 'q3',\n        },\n        {\n            title: 'Fit Error',\n            dataIndex: 'fit_error',\n            key: 'fit_error',\n        },\n        {\n            title: 'Nf Param Id',\n            dataIndex: 'nf_param_id',\n            key: 'nf_param_id',\n        },\n        {\n            title: 'Connect Ops Risk',\n            dataIndex: 'connect_ops_risk',\n            key: 'connect_ops_risk',\n        },\n        {\n            title: 'Connect Efficiency',\n            dataIndex: 'connect_efficiency',\n            key: 'connect_efficiency',\n        },\n        {\n            title: 'Connect Condition',\n            dataIndex: 'connect_condition',\n            key: 'connect_condition',\n        },\n        {\n            title: 'Action',\n            key: 'action',\n            render: (text, record) => (\n                <Space size=\"middle\">\n                    {   record.approved \n                        ? 'Approved'\n                        : <Button type=\"primary\" onClick={(e) => approveStage(text, record)}>Approve</Button>\n                    }\n                </Space>\n            ),\n        },\n    ];\n    \n\n    const renderBody = (props, columns) => {\n        return (\n          <tr className={props.className}>\n            {columns.map((item, idx) => {\n                // console.log(item)\n              if (!item.hidden) {\n                return props.children[idx]\n              }\n            })}\n          </tr>\n        );\n    }\n\n    const fetchQcReport = () => {\n        axios.get(config.API_URL + ENUMS.API_ROUTES.QC_REPORT + '/'+3,\n            {\n                ...HttpUtil.adminHttpHeaders(),\n            })\n            .then(res => {\n                console.log(res);\n                if (res.status === 200 && res.data) {\n                    \n                }\n            })\n            .catch(e => {\n                console.log(e)\n            })\n    }\n\n    useEffect(() => {\n        fetchQcReport();\n    }, [])\n    return (\n        <>\n            <Card bordered={false} style={{ width: '100%', marginBottom: '5px' }}>\n                <strong>QC Report</strong>\n            </Card>\n            <Card>\n                <Table\n                    columns={columns}\n                    dataSource={data}\n                    components={{\n                        body: {\n                          row: (props) => renderBody(props, columns)\n                        },\n                      }}\n                />\n                <Button type=\"primary\" disabled={data.filter(d => d.approved).length < 1}>Export stage report</Button>\n                <CSVLink data={csvData}>Save Report</CSVLink>;\n            </Card>\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}