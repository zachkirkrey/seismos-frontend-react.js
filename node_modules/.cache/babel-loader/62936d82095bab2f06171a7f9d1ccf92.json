{"ast":null,"code":"import _slicedToArray from\"/Users/subodhkalika/test-projects/projects/seismos_application/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import routes from\"routes/routes.js\";import{useSelector}from\"react-redux\";import{Layout,Menu,Breadcrumb,Spin}from'antd';import React,{useEffect,useState}from\"react\";import{Switch,Route,Redirect,useHistory}from\"react-router-dom\";import _ from\"lodash\";// components\nimport ENUMS from\"constants/appEnums\";import APP_CONSTANTS from\"constants/appConstants\";import AdminNavbar from\"components/Navbars/AdminNavbar.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Content=Layout.Content,Sider=Layout.Sider;var SubMenu=Menu.SubMenu;export default function Admin(props){var history=useHistory();// const user = useSelector(state => state.authReducer.user);\nvar project=useSelector(function(state){return state.authReducer.userProject;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),noSidebarLayout=_useState2[0],setNoSidebarLayout=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),sidebarMenu=_useState4[0],setSidebarMenu=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),defaultSelectedMenuKey=_useState6[0],setDefaultSelectedMenuKey=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),defaultOpenMenu=_useState8[0],setDefaultOpenMenu=_useState8[1];// const [pages, setPages] = useState([]);\nvar getRoutes=function getRoutes(routes){// if (!props.isAuthenticated) {\n//   return <Redirect to={{\n//       pathname: '/auth/login',\n//       state: { from: props.location }\n//     }}\n//   />\n// }\nreturn routes.map(function(prop,key){if(prop.layout===ENUMS.ROUTES.ADMIN){return/*#__PURE__*/_jsx(Route,{path:prop.layout+prop.path,component:prop.component},key);}else{return null;}});};useEffect(function(){if(APP_CONSTANTS.ROUTES_WITHOUT_SIDEBAR.indexOf(props.location.pathname)>-1){setNoSidebarLayout(true);// setPages(props.location.pathname.split(\"/admin/\")[1].split(\"/\")[0].split(\"-\"));\n}else{var defaultSelectedSubMenu=props.location.pathname.split(\"/admin/\")[1];var _defaultOpenMenu=\"menu\"+props.location.pathname.split(\"/admin/\")[1].split(\"/\")[1];setDefaultSelectedMenuKey(defaultSelectedSubMenu);setDefaultOpenMenu(_defaultOpenMenu);setNoSidebarLayout(false);}},[props]);useEffect(function(){if(!_.isEmpty(project)){var menuChange=function menuChange(path,id){history.push('/admin'+path+'/'+id);};var wellInfo=project.wellInfoValues;var menu=wellInfo.map(function(well,index){return/*#__PURE__*/_jsxs(SubMenu,{title:well.well_name,children:[/*#__PURE__*/_jsx(Menu.Item,{onClick:function onClick(){menuChange(ENUMS.ROUTES.DATA_INPUT,well.id);},children:\"Data input\"},\"data-input/\"+well.id),/*#__PURE__*/_jsx(Menu.Item,{onClick:function onClick(){menuChange(ENUMS.ROUTES.DAILY_LOG,well.id);},children:\"Daily log\"},\"daily-log/\"+well.id),/*#__PURE__*/_jsx(Menu.Item,{onClick:function onClick(){menuChange(ENUMS.ROUTES.DEFAULT_VALUES,well.id);},children:\"Default values\"},\"default-values/\"+well.id),/*#__PURE__*/_jsx(Menu.Item,{onClick:function onClick(){menuChange(ENUMS.ROUTES.TRACKING_SHEET,well.id);},children:\"Tracking sheet\"},\"tracking-sheet/\"+well.id),/*#__PURE__*/_jsx(Menu.Item,{onClick:function onClick(){menuChange(ENUMS.ROUTES.OC_REPORT,well.id);},children:\"QC report\"},\"qc-report/\"+well.id)]},\"menu\"+well.id);});setSidebarMenu(menu);};},[project,history]);return/*#__PURE__*/_jsx(_Fragment,{children:noSidebarLayout?/*#__PURE__*/_jsxs(Layout,{className:\"layout\",children:[/*#__PURE__*/_jsx(AdminNavbar,{withLogo:true}),/*#__PURE__*/_jsx(Content,{style:{padding:'0 50px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"site-layout-content mb-12 p-5 bg-white\",children:/*#__PURE__*/_jsxs(Switch,{children:[getRoutes(routes),/*#__PURE__*/_jsx(Redirect,{from:\"*\",to:\"/admin/dashboard\"})]})})})]}):/*#__PURE__*/_jsx(Spin,{spinning:sidebarMenu.length<1,children:/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsxs(Sider,{style:{overflow:'auto',height:'100vh',position:'fixed',left:0},width:250,className:\"site-layout-background\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"seismos logo\",src:require(\"assets/img/seismos/seismos_logo_animated.gif\").default})}),defaultSelectedMenuKey&&defaultOpenMenu&&/*#__PURE__*/_jsx(Menu,{theme:\"\",mode:\"inline\",defaultSelectedKeys:[defaultSelectedMenuKey],defaultOpenKeys:[defaultOpenMenu],className:\"sidebar-margin-top\",children:sidebarMenu})]}),/*#__PURE__*/_jsxs(Layout,{className:\"site-layout with-sedebar\",style:{marginLeft:250},children:[/*#__PURE__*/_jsx(AdminNavbar,{withLogo:false}),/*#__PURE__*/_jsx(Content,{style:{margin:'88px 16px 0',overflow:'initial'},children:/*#__PURE__*/_jsxs(Switch,{children:[getRoutes(routes),/*#__PURE__*/_jsx(Redirect,{from:\"*\",to:\"/admin/dashboard\"})]})})]})]})})});}","map":{"version":3,"sources":["/Users/subodhkalika/test-projects/projects/seismos_application/client/src/layouts/Admin.js"],"names":["routes","useSelector","Layout","Menu","Breadcrumb","Spin","React","useEffect","useState","Switch","Route","Redirect","useHistory","_","ENUMS","APP_CONSTANTS","AdminNavbar","Content","Sider","SubMenu","Admin","props","history","project","state","authReducer","userProject","noSidebarLayout","setNoSidebarLayout","sidebarMenu","setSidebarMenu","defaultSelectedMenuKey","setDefaultSelectedMenuKey","defaultOpenMenu","setDefaultOpenMenu","getRoutes","map","prop","key","layout","ROUTES","ADMIN","path","component","ROUTES_WITHOUT_SIDEBAR","indexOf","location","pathname","defaultSelectedSubMenu","split","isEmpty","menuChange","id","push","wellInfo","wellInfoValues","menu","well","index","well_name","DATA_INPUT","DAILY_LOG","DEFAULT_VALUES","TRACKING_SHEET","OC_REPORT","padding","length","overflow","height","position","left","require","default","marginLeft","margin"],"mappings":"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","sourcesContent":["import routes from \"routes/routes.js\";\nimport { useSelector } from \"react-redux\";\nimport { Layout, Menu, Breadcrumb, Spin } from 'antd';\nimport React, { useEffect, useState } from \"react\";\nimport { Switch, Route, Redirect, useHistory } from \"react-router-dom\";\nimport _ from \"lodash\";\n\n// components\nimport ENUMS from \"constants/appEnums\";\nimport APP_CONSTANTS from \"constants/appConstants\";\nimport AdminNavbar from \"components/Navbars/AdminNavbar.js\";\n\nconst { Content, Sider } = Layout;\nconst { SubMenu } = Menu;\n\nexport default function Admin(props) {\n    const history = useHistory();\n    // const user = useSelector(state => state.authReducer.user);\n    const project = useSelector(state => state.authReducer.userProject);\n    \n    const [noSidebarLayout, setNoSidebarLayout] = useState(false);\n    const [sidebarMenu, setSidebarMenu] = useState([]);\n    const [defaultSelectedMenuKey, setDefaultSelectedMenuKey] = useState();\n    const [defaultOpenMenu, setDefaultOpenMenu] = useState();\n    // const [pages, setPages] = useState([]);\n\n    const getRoutes = (routes) => {\n        // if (!props.isAuthenticated) {\n        //   return <Redirect to={{\n        //       pathname: '/auth/login',\n        //       state: { from: props.location }\n        //     }}\n        //   />\n        // }\n        return routes.map((prop, key) => {\n        if (prop.layout === ENUMS.ROUTES.ADMIN) {\n            return (\n            <Route\n                path={prop.layout + prop.path}\n                component={prop.component}\n                key={key}\n            />\n            );\n        } else {\n            return null;\n        }\n        });\n    };\n\n    \n\n    useEffect(() => {\n        if (APP_CONSTANTS.ROUTES_WITHOUT_SIDEBAR.indexOf(props.location.pathname) > -1) {\n            setNoSidebarLayout(true);\n            // setPages(props.location.pathname.split(\"/admin/\")[1].split(\"/\")[0].split(\"-\"));\n        } else {\n            const defaultSelectedSubMenu = props.location.pathname.split(\"/admin/\")[1];\n            const defaultOpenMenu = \"menu\" + props.location.pathname.split(\"/admin/\")[1].split(\"/\")[1];\n            setDefaultSelectedMenuKey(defaultSelectedSubMenu);\n            setDefaultOpenMenu(defaultOpenMenu);\n            setNoSidebarLayout(false);\n        }\n    }, [props]);\n\n    useEffect(() => {\n        if(!_.isEmpty(project)) {\n            const menuChange = (path, id) => {\n                history.push('/admin' + path + '/'+ id)\n            }\n            \n            const wellInfo = project.wellInfoValues;\n            \n            const menu = wellInfo.map((well, index) => {\n                return <SubMenu key={\"menu\"+(well.id)} title={well.well_name}>\n                    <Menu.Item key={\"data-input/\" + well.id} onClick={() => { menuChange(ENUMS.ROUTES.DATA_INPUT, well.id) }}>Data input</Menu.Item>\n                    <Menu.Item key={\"daily-log/\" + well.id} onClick={() => { menuChange(ENUMS.ROUTES.DAILY_LOG, well.id) }}>Daily log</Menu.Item>\n                    <Menu.Item key={\"default-values/\" + well.id} onClick={() => { menuChange(ENUMS.ROUTES.DEFAULT_VALUES, well.id) }}>Default values</Menu.Item>\n                    <Menu.Item key={\"tracking-sheet/\" + well.id} onClick={() => { menuChange(ENUMS.ROUTES.TRACKING_SHEET, well.id) }}>Tracking sheet</Menu.Item>\n                    <Menu.Item key={\"qc-report/\" + well.id} onClick={() => { menuChange(ENUMS.ROUTES.OC_REPORT, well.id) }}>QC report</Menu.Item>\n                </SubMenu>\n            });\n            setSidebarMenu(menu);\n        };\n    }, [project, history]);\n\n    \n    return (\n        <>\n            {\n                noSidebarLayout\n                ? <Layout className=\"layout\">\n                    <AdminNavbar withLogo={true} />\n                    <Content style={{ padding: '0 50px' }}>\n                        {/* <Breadcrumb style={{ margin: '16px 0' }}>\n                            {\n                                pages.map((page, index) => {\n                                    return <Breadcrumb.Item key={index}><span className=\"capitalize\">{page}</span></Breadcrumb.Item>\n                                })\n                            }\n                            \n                        </Breadcrumb> */}\n                            {/* <Breadcrumb.Item>List</Breadcrumb.Item>\n                            <Breadcrumb.Item>App</Breadcrumb.Item> */}\n                        <div className=\"site-layout-content mb-12 p-5 bg-white\">\n                            <Switch>\n                                {getRoutes(routes)}\n                                <Redirect from=\"*\" to=\"/admin/dashboard\" />\n                            </Switch>\n                        </div>\n                    </Content>\n                </Layout>\n                : <Spin spinning={sidebarMenu.length < 1}>\n                    <Layout>\n                        <Sider\n                            style={{\n                                overflow: 'auto',\n                                height: '100vh',\n                                position: 'fixed',\n                                left: 0,\n                            }}\n                            width={250}\n                            className=\"site-layout-background\"\n                        >\n                            <div className=\"logo\"><img alt=\"seismos logo\" src={require(\"assets/img/seismos/seismos_logo_animated.gif\").default}></img></div>\n                            {defaultSelectedMenuKey && defaultOpenMenu && <Menu theme=\"\" mode=\"inline\" defaultSelectedKeys={[defaultSelectedMenuKey]} defaultOpenKeys={[defaultOpenMenu]} className=\"sidebar-margin-top\">\n                                {sidebarMenu}\n                            </Menu>}\n                        </Sider>\n                        <Layout className=\"site-layout with-sedebar\" style={{ marginLeft: 250 }}>\n                            <AdminNavbar withLogo={false}/>\n                            <Content style={{ margin: '88px 16px 0', overflow: 'initial' }}>\n                                <Switch>\n                                    {getRoutes(routes)}\n                                    <Redirect from=\"*\" to=\"/admin/dashboard\" />\n                                </Switch>\n                            </Content>\n                        </Layout>\n                    </Layout>\n                </Spin>\n            }\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}