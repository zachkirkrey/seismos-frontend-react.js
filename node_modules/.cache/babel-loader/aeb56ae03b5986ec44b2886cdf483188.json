{"ast":null,"code":"import config from\"config\";import axios from\"axiosConfig\";import{Layout,Menu}from'antd';import ENUMS from\"constants/appEnums\";import allActions from\"redux/actions\";import{useHistory}from\"react-router\";import{useDispatch}from\"react-redux\";import{useAppContext}from\"util/ContextUtil\";import React from\"react\";import{useToasts}from\"react-toast-notifications\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Header=Layout.Header;export default function Navbar(props){var history=useHistory();var dispatch=useDispatch();var _useToasts=useToasts(),addToast=_useToasts.addToast;var _useAppContext=useAppContext(),userHasAuthenticated=_useAppContext.userHasAuthenticated;var logOutUser=function logOutUser(data){userHasAuthenticated(false);dispatch(allActions.authActions.userLoggedOut());localStorage.removeItem('JWT');history.push('/auth/login');addToast(data.message,{appearance:'success',autoDismiss:true});};var handleLogout=function handleLogout(){logOutUser({message:'Logged out successfully.'});axios.get(config.API_URL+ENUMS.API_ROUTES.AUTH_LOGOUT).then(function(res){if(res.status===200){logOutUser(res.data);}else{console.error(\"User is not logged out successfully\");}}).catch(function(error){console.error(error);});};var handleMenuClick=function handleMenuClick(e){if(e.key===\"logout\"){handleLogout();}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Header,{className:\"seismos-app-header\",children:[props.withLogo?/*#__PURE__*/_jsx(\"div\",{className:\"logo-wo-sidebar\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"seismos logo\",src:require(\"assets/img/seismos/seismos_logo_animated.gif\").default})}):'',/*#__PURE__*/_jsxs(Menu,{theme:\"dark\",mode:\"horizontal\",className:\"justify-end\",onClick:function onClick(e){return handleMenuClick(e);},children:[/*#__PURE__*/_jsx(Menu.Item,{children:\"Account Settings\"},'account_settings'),/*#__PURE__*/_jsx(Menu.Item,{children:\"Log out\"},'logout')]})]})});}","map":{"version":3,"sources":["/Users/subodhkalika/test-projects/projects/seismos_application/client/src/components/Navbars/AdminNavbar.js"],"names":["config","axios","Layout","Menu","ENUMS","allActions","useHistory","useDispatch","useAppContext","React","useToasts","Header","Navbar","props","history","dispatch","addToast","userHasAuthenticated","logOutUser","data","authActions","userLoggedOut","localStorage","removeItem","push","message","appearance","autoDismiss","handleLogout","get","API_URL","API_ROUTES","AUTH_LOGOUT","then","res","status","console","error","catch","handleMenuClick","e","key","withLogo","require","default"],"mappings":"AAAA,MAAOA,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CACA,OAASC,MAAT,CAAiBC,IAAjB,KAA6B,MAA7B,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,eAAvB,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,aAAT,KAA8B,kBAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,2BAA1B,C,6IAEA,GAAQC,CAAAA,MAAR,CAAkBT,MAAlB,CAAQS,MAAR,CAEA,cAAe,SAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,CAClC,GAAIC,CAAAA,OAAO,CAAGR,UAAU,EAAxB,CACI,GAAMS,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CACA,eAAqBG,SAAS,EAA9B,CAAQM,QAAR,YAAQA,QAAR,CACA,mBAAiCR,aAAa,EAA9C,CAAQS,oBAAR,gBAAQA,oBAAR,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,IAAD,CAAU,CACzBF,oBAAoB,CAAC,KAAD,CAApB,CACAF,QAAQ,CAACV,UAAU,CAACe,WAAX,CAAuBC,aAAvB,EAAD,CAAR,CACAC,YAAY,CAACC,UAAb,CAAwB,KAAxB,EACAT,OAAO,CAACU,IAAR,CAAa,aAAb,EAEAR,QAAQ,CAACG,IAAI,CAACM,OAAN,CAAe,CACnBC,UAAU,CAAE,SADO,CAEnBC,WAAW,CAAE,IAFM,CAAf,CAAR,CAIH,CAVD,CAWA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBV,UAAU,CAAC,CACPO,OAAO,CAAE,0BADF,CAAD,CAAV,CAGAxB,KAAK,CAAC4B,GAAN,CAAU7B,MAAM,CAAC8B,OAAP,CAAiB1B,KAAK,CAAC2B,UAAN,CAAiBC,WAA5C,EACCC,IADD,CACM,SAAAC,GAAG,CAAI,CACT,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CACpBjB,UAAU,CAACgB,GAAG,CAACf,IAAL,CAAV,CACH,CAFD,IAGK,CACDiB,OAAO,CAACC,KAAR,CAAc,qCAAd,EACH,CACJ,CARD,EASCC,KATD,CASO,SAAAD,KAAK,CAAI,CACZD,OAAO,CAACC,KAAR,CAAcA,KAAd,EACH,CAXD,EAYH,CAhBD,CAkBA,GAAME,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,CAAD,CAAO,CAC3B,GAAGA,CAAC,CAACC,GAAF,GAAU,QAAb,CAAuB,CACnBb,YAAY,GACf,CACJ,CAJD,CAMJ,mBACI,sCAEA,MAAC,MAAD,EAAQ,SAAS,CAAC,oBAAlB,WAEQf,KAAK,CAAC6B,QAAN,cACE,YAAK,SAAS,CAAC,iBAAf,uBACE,YAAK,GAAG,CAAC,cAAT,CAAwB,GAAG,CAAEC,OAAO,CAAC,8CAAD,CAAP,CAAwDC,OAArF,EADF,EADF,CAIE,EANV,cAQI,MAAC,IAAD,EAAM,KAAK,CAAC,MAAZ,CAAmB,IAAI,CAAC,YAAxB,CAAqC,SAAS,CAAC,aAA/C,CAA6D,OAAO,CAAE,iBAACJ,CAAD,QAAOD,CAAAA,eAAe,CAACC,CAAD,CAAtB,EAAtE,wBACI,KAAC,IAAD,CAAM,IAAN,+BAAgB,kBAAhB,CADJ,cAEI,KAAC,IAAD,CAAM,IAAN,sBAAgB,QAAhB,CAFJ,GARJ,GAFA,EADJ,CAmBH","sourcesContent":["import config from \"config\";\nimport axios from \"axiosConfig\";\nimport { Layout, Menu } from 'antd';\nimport ENUMS from \"constants/appEnums\";\nimport allActions from \"redux/actions\";\nimport { useHistory } from \"react-router\";\nimport { useDispatch } from \"react-redux\";\nimport { useAppContext } from \"util/ContextUtil\";\nimport React from \"react\";\nimport { useToasts } from \"react-toast-notifications\";\n\nconst { Header} = Layout;\n\nexport default function Navbar(props) {\n    let history = useHistory();\n        const dispatch = useDispatch();\n        const { addToast } = useToasts();\n        const { userHasAuthenticated } = useAppContext();\n\n        const logOutUser = (data) => {\n            userHasAuthenticated(false);\n            dispatch(allActions.authActions.userLoggedOut());\n            localStorage.removeItem('JWT');\n            history.push('/auth/login');\n            \n            addToast(data.message, { \n                appearance: 'success',\n                autoDismiss: true\n            });\n        }\n        const handleLogout = () => {\n            logOutUser({\n                message: 'Logged out successfully.'\n            });\n            axios.get(config.API_URL + ENUMS.API_ROUTES.AUTH_LOGOUT)\n            .then(res => {\n                if (res.status === 200) {\n                    logOutUser(res.data);\n                }\n                else {\n                    console.error(\"User is not logged out successfully\");\n                }\n            })\n            .catch(error => {\n                console.error(error);\n            })\n        }\n\n        const handleMenuClick = (e) => {\n            if(e.key === \"logout\") {\n                handleLogout();\n            }\n        }\n        \n    return (\n        <>\n        {/* Navbar */}\n        <Header className=\"seismos-app-header\">\n            {\n                props.withLogo \n                ? <div className=\"logo-wo-sidebar\">\n                    <img alt=\"seismos logo\" src={require(\"assets/img/seismos/seismos_logo_animated.gif\").default}></img>\n                </div>\n                : ''\n            }\n            <Menu theme=\"dark\" mode=\"horizontal\" className=\"justify-end\" onClick={(e) => handleMenuClick(e)}>\n                <Menu.Item key={'account_settings'}>{`Account Settings`}</Menu.Item>\n                <Menu.Item key={'logout'}>{`Log out`}</Menu.Item>\n            </Menu>\n        </Header>\n        {/* End Navbar */}\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}