{"ast":null,"code":"var _jsxFileName = \"/Users/subodhkalika/test-projects/projects/seismos_application/client/src/components/Grid/Grid.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport ReactDataSheet from \"react-datasheet\";\nimport \"react-datasheet/lib/react-datasheet.css\";\nimport \"./Grid.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SheetRenderer = props => {\n  const {\n    className,\n    columns\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    className: className + \" seismos-spreadsheet-grid\",\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: columns.map((col, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n          className: `cell ${className} ${col.className}`,\n          style: {\n            width: col.width,\n            background: \"#f9f9f9\",\n            padding: \"10px 20px\"\n          },\n          colSpan: col.colSpan ? col.colSpan : 1,\n          children: col.label\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 9\n  }, this);\n}; // TODO: REMOVE\n// const CellRenderer = props => {\n//     const { children } = props;\n//     return (\n//         <td className=\"cell\" style={{ textAlign: \"center\" }}>\n//             {children}\n//         </td>\n//     );\n// };\n\n\n_c = SheetRenderer;\nexport default function Grid(props) {\n  _s();\n\n  const [columns, setColumns] = useState();\n  const [grid, setGrid] = useState();\n\n  const renderSheet = sheetProps => {\n    return /*#__PURE__*/_jsxDEV(SheetRenderer, {\n      columns: columns,\n      ...sheetProps\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 16\n    }, this);\n  }; // TODO: REMOVE\n  // const renderRow = (rowProps) => {\n  //     const { row, cells, ...rest } = rowProps;\n  //     return <CellRenderer rowIndex={row} {...rest} />;\n  // }\n\n\n  useEffect(() => {\n    setColumns(props.columns);\n    setGrid(props.grid);\n  }, [props]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: props.width ? props.width : \"100%\"\n    },\n    children: grid && /*#__PURE__*/_jsxDEV(ReactDataSheet, {\n      data: grid,\n      valueRenderer: cell => cell.value,\n      sheetRenderer: renderSheet,\n      className: props.className,\n      isCellNavigable: (cell, row, col) => {\n        return !cell.disableEvents ? true : false;\n      } // cellRenderer={renderRow}\n      ,\n      onCellsChanged: changes => {\n        const gridData = grid.map(row => [...row]);\n        changes.forEach(({\n          cell,\n          row,\n          col,\n          value\n        }) => {\n          let error = false;\n          let className = cell.className;\n\n          if (gridData[row][col]['required'] && value === \"\") {\n            error = true;\n            className = className + 'cell-error';\n          } else {\n            className = className ? className.replace(\"cell-error\", \"\") : 'null';\n          }\n\n          gridData[row][col] = { ...gridData[row][col],\n            value,\n            error: error,\n            className\n          };\n        });\n        setGrid(gridData);\n        props.hasOwnProperty('gridValueChanged') && props.gridValueChanged(gridData, props.index);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 22\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Grid, \"MZoDtHo1giPfeM50l2VPHULcZj0=\");\n\n_c2 = Grid;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SheetRenderer\");\n$RefreshReg$(_c2, \"Grid\");","map":{"version":3,"sources":["/Users/subodhkalika/test-projects/projects/seismos_application/client/src/components/Grid/Grid.js"],"names":["React","useEffect","useState","ReactDataSheet","SheetRenderer","props","className","columns","map","col","index","width","background","padding","colSpan","label","children","Grid","setColumns","grid","setGrid","renderSheet","sheetProps","cell","value","row","disableEvents","changes","gridData","forEach","error","replace","hasOwnProperty","gridValueChanged"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ReactDataSheet from \"react-datasheet\";\nimport \"react-datasheet/lib/react-datasheet.css\";\nimport \"./Grid.css\";\n\nconst SheetRenderer = props => {\n    const { className, columns } = props;\n    return (\n        <table className={className + \" seismos-spreadsheet-grid\"}>\n            <thead>\n                <tr>\n                {columns.map((col, index) => (\n                    <th\n                        key={index}\n                        className={`cell ${className} ${col.className}`}\n                        style={{\n                            width: col.width,\n                            background: \"#f9f9f9\",\n                            padding: \"10px 20px\",\n                        }}\n                        colSpan={col.colSpan ? col.colSpan : 1}\n                    >\n                        {col.label}\n                    </th>\n                ))}\n                </tr>\n            </thead>\n            <tbody>{props.children}</tbody>\n        </table>\n    );\n};\n\n// TODO: REMOVE\n// const CellRenderer = props => {\n//     const { children } = props;\n\n//     return (\n//         <td className=\"cell\" style={{ textAlign: \"center\" }}>\n//             {children}\n//         </td>\n//     );\n// };\n\nexport default function Grid(props) {\n\n    const [columns, setColumns] = useState();\n    const [grid, setGrid] = useState();\n\n    const renderSheet = (sheetProps) => {\n        return <SheetRenderer columns={columns} {...sheetProps} />;\n    }\n\n    // TODO: REMOVE\n    // const renderRow = (rowProps) => {\n    //     const { row, cells, ...rest } = rowProps;\n    //     return <CellRenderer rowIndex={row} {...rest} />;\n    // }\n\n    useEffect(() => {\n        setColumns(props.columns);\n        setGrid(props.grid);\n    }, [props]);\n\n    return (\n        <div style={{ width: props.width ? props.width : \"100%\" }}>\n            {grid && <ReactDataSheet\n                data={grid}\n                valueRenderer={cell => cell.value}\n                sheetRenderer={renderSheet}\n                className={props.className}\n                isCellNavigable={(cell, row, col) => {return !cell.disableEvents ? true : false}}\n                // cellRenderer={renderRow}\n                onCellsChanged={changes => {\n                    const gridData = grid.map(row => [...row]);\n                    changes.forEach(({ cell, row, col, value }) => {\n                        let error = false;\n                        let className = cell.className;\n                        if(gridData[row][col]['required'] && value === \"\") {\n                            error = true;\n                            className = className + 'cell-error';\n                        } else {\n                            className = className ? className.replace(\"cell-error\",\"\") : 'null';\n                        }\n                        gridData[row][col] = { ...gridData[row][col], value, error: error, className };\n                    });\n                    setGrid(gridData);\n                    props.hasOwnProperty('gridValueChanged') && props.gridValueChanged(gridData, props.index);\n                }}\n            />}\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}